"use strict";if("undefined"==typeof dragula){var dragula;throw"Exception: dragula.js is undefined. Please add the library as a dependency to your project"}angular.module("tagsCategorizer",[angularDragula(angular)]),angular.module("tagsCategorizer").directive("tagsCategorizer",["$parse","$document","$http","$timeout","$compile","$templateCache",function(a,b,c,d,e){return{restrict:"E",templateUrl:"angular-tagscategorizer.html",controller:function(a,b){a.$on("second-bag.drag",function(a,b){b.removeClass("ex-moved")}),a.$on("second-bag.drop",function(a,b){b.addClass("ex-moved")}),a.$on("second-bag.over",function(a,b,c){c.addClass("ex-over")}),a.$on("second-bag.out",function(a,b,c){c.removeClass("ex-over")}),a.newGroup="",a.renameGroup=[],a.addNewGroup=function(){a.tagsGroups.unshift({name:a.newGroup,tags:[],"short":a.newGroup.toLowerCase()}),a.newGroup=""},a.editGroup=function(b,c){b.preventDefault(),b.stopPropagation(),a.renameGroup[c]=!a.renameGroup[c]},a.stopEvent=function(a){a.stopPropagation(),a.preventDefault()},a.deleteGroup=function(b,c){a.tagsGroups.splice(c,1)},a.status=[],a.tagsGroups=[{id:1,name:"Weather Tags",tags:["tag1","tag2","tag3","tag4","tag5"],"short":"weather"},{id:2,name:"Area Tags",tags:["tag1","tag2","tag3","tag4","tag5"],"short":"area"},{id:3,name:"Electric Tags",tags:["tag1","tag2","tag3","tag4","tag5"],"short":"electric"},{id:4,name:"Region Tags",tags:["tag1","tag2","tag3","tag4","tag5"],"short":"region"},{id:5,name:"Gas Tags",tags:["tag1","tag2","tag3","tag4","tag5"],"short":"gas"},{id:6,name:"Heat Tags",tags:["tag1","tag2","tag3","tag4","tag5"],"short":"heat"}],a.ungroupedTags=["tag1","tag2","ElectroTag1","ReadingArea","LuttonMC","DixonskWh","CroatoanR","ReginaldCityHall","SomeOtherTag","Tagging7","Raddington","SHElectroValves","SwissCheeseFctry","Blabla","tag1","tag2","ElectroTag1","ReadingArea","LuttonMC","SomeOtherTag","Tagging7","Raddington","SHElectroValves","SwissCheeseFctry"],b.options(a,"weather-bag",{removeOnSpill:!1,accepts:function(a,b,c,d){return!0},revertOnSpill:!0}),b.options(a,"unused-bag",{removeOnSpill:!1,accepts:function(a,b,c,d){return!0},revertOnSpill:!0}),a.$on("unused-bag.drop",function(a,b){b.addClass("ex-moved")}),a.$on("unused-bag.over",function(a,b,c){c.addClass("ex-over")}),a.$on("unused-bag.out",function(a,b,c){c.removeClass("ex-over")}),a.$on("unused-bag.drop-model",function(a,b,c){}),a.$on("unused-bag.remove-model",function(a,b,c){}),a.removeAssignedTag=function(b,c){a.ungroupedTags.push(b[c]),b.splice(c,1)}},link:function(a,b,c){}}}]),angular.module("tagsCategorizer").run(["$templateCache",function(a){a.put("angular-tagscategorizer.html",'<div class="ar-tags-categorizer">\n    <div class="row">\n\n        <div class="groups-list col-md-6">\n\n            <div class="add-group">\n                <input type="text" ng-model="newGroup">\n                <button ng-click="addNewGroup()">Add</button>\n            </div>\n            <uib-accordion close-others="true">\n\n                <uib-accordion-group ng-repeat="group in tagsGroups track by $index"\n                                     is-open="status[$index].open">\n                    <uib-accordion-heading>\n                        <span ng-if="!renameGroup[$index]">{{group.name}}</span>\n                        <input type="text" class="rename" ng-model="group.name" ng-click="stopEvent($event)" ng-if="renameGroup[$index] && status[$index].open">\n                        <div class="pull-right">\n                            <span ng-if="status[$index].open" ng-click="editGroup($event, $index)"><i class="fa fa-pencil-square-o"></i></span>\n                            <span class="remove-group" ng-if="status[$index].open" ng-click="deleteGroup($event, $index)"><i class="fa fa-times"></i></span>\n                            <button type="button" class="btn btn-info nr-tags">{{group.tags.length}} <i class="fa fa-tags"></i></button>\n                            <i class="glyphicon" ng-class="{\'glyphicon-chevron-down\': status[$index].open, \'glyphicon-chevron-right\': !status[$index].open}"></i>\n                        </div>\n                    </uib-accordion-heading>\n\n                    <div class="inside-bag"\n                         dragula=\'"unused-bag"\'\n                         dragula-model="group.tags">\n                        <!--dragula="{{group.short + "-bag"}}"-->\n              <span class="tag" ng-repeat="tag in group.tags track by $index">\n                <i class="fa fa-tag"></i> {{tag}} <i ng-click="removeAssignedTag(group.tags, $index)" class="glyphicon glyphicon-remove"></i>\n              </span>\n                    </div>\n\n                </uib-accordion-group>\n\n            </uib-accordion>\n\n        </div>\n\n        <div class="ungrouped-tags col-md-6"\n             dragula=\'"unused-bag"\'\n             dragula-model="ungroupedTags">\n        <span class="unsel-tag" ng-repeat="tag in ungroupedTags track by $index">\n            <i class="fa fa-tag"></i> {{tag}} <i ng-click="removeAssignedTag(group.tags, $index)" class="glyphicon glyphicon-remove"></i>\n        </span>\n        </div>\n\n    </div>\n</div>')}]);